{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Dashboard - SB Admin</title>
      
        <link href="{% static 'css/styles.css' %}" rel="stylesheet" type="text/css" />
       <!-- <link href="css/styles.css" rel="stylesheet" />-->

      
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    </head>
    <body class="sb-nav-fixed">
        <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
            <!-- Navbar Brand-->
            <a class="navbar-brand ps-3" href="#">LMS</a>
            <!-- Sidebar Toggle-->
            <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i class="fas fa-bars"></i></button>
            <!-- Navbar Search-->
            <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
                <!--<div class="input-group">
                    <input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" />
                    <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
                </div>-->
            </form>
            <!-- Navbar-->
            <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-user fa-fw"></i></a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#!">Notification</a></li>
                        <li><hr class="dropdown-divider" /></li>
                        <li><a class="dropdown-item" href="/logout">Logout</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <div id="layoutSidenav">
            <div id="layoutSidenav_nav">
                <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                    
                    <div class="sb-sidenav-menu">
                        <div class="nav">
                            <div class="sb-sidenav-menu-heading">Student</div>   <!--student list-->

                            <a class="nav-link" href="#">
                                <div class="sb-nav-link-icon"></div>
                                Dashboard
                            </a>

                            <a class="nav-link" href="/book_issue">
                                <div class="sb-nav-link-icon"></div>
                                Issue a book
                            </a>

                            <a class="nav-link" href="/stu_profile">
                                <div class="sb-nav-link-icon"></div>
                                My profile
                            </a>
                        <div id = "admin_list">
                        <div class="sb-sidenav-menu-heading" id = "admin_list" >Admin</div>   <!-- admin list-->
                            <a class="nav-link" href="index.html" id = "admin_list1">
                                <div class="sb-nav-link-icon"></div>
                                Dashboard
                            </a>

                            <a class="nav-link" href="index.html" id = "admin_list1">
                                <div class="sb-nav-link-icon"></div>
                                Student management
                            </a>

                            <a class="nav-link" href="index.html" id = "admin_list1">
                                <div class="sb-nav-link-icon"></div>
                                Librarian management
                            </a>

                            <a class="nav-link" href="index.html" id = "admin_list1">
                                <div class="sb-nav-link-icon"></div>
                                Add a student
                            </a>

                            <a class="nav-link" href="index.html" id = "admin_list1">
                                <div class="sb-nav-link-icon"></div>
                                Add a Librarian
                            </a>
                        </div>
                        <div id = "lib_list">
                        <div class="sb-sidenav-menu-heading">Librarian</div>   <!-- Librarian list-->
                            <a class="nav-link" href="index.html">
                                <div class="sb-nav-link-icon"></div>
                                Add Books
                            </a>

                            <a class="nav-link" href="index.html">
                                <div class="sb-nav-link-icon"></div>
                                Books data
                            </a>
                        </div>
                        </div>
                    </div>



                    <div class="sb-sidenav-footer">
                        <div class="small">Logged in as: </div>
                        {{ u_name }}
                    </div>
                </nav>
            </div>
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid px-4">

                        <div style = "display: block;">
                            <h5 style= "float:right; color: grey;">Last login: {{last_login}}</h5>
                            
                          

                        <h1 class="mt-4">Dashboard</h1>
                        </div>
                        <ol class="breadcrumb mb-4">
                            <li class="breadcrumb-item active">Student Dashboard</li>
                        </ol>
                        <div class="row">
                            
                            
                            <div class="col-xl-3 col-md-6">
                                <!-- small box -->
                                <div class="card bg-primary text-white mb-4">
                                    <div class="container-fluid">
                                    <p></p>
                                    <h5>{{ books_count }}
                                    
                                    <svg class="svg-inline--fa fa-book" style="color: whitesmoke; font-size: 350%; float: right;" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="book" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z"></path></svg>
                                    </h5>
                                    <p>Total Books allocated</p>
                                    <p></p>
                                    </div>
                                    <p></p>
                                    </div>
                            </div>

                            <div class="col-xl-3 col-md-6" style = "display:none;">
                                <div class="card bg-success text-white mb-4">
                                    <div class="card-body" id= "month_list"><input type = "text" id= "mon_list" value = "{{ month_list }}"/></div>
                                    
                                </div>
                            </div>

                            <div class="col-xl-3 col-md-6" style = "display:none;">
                                <div class="card bg-success text-white mb-4">
                                    <div class="card-body" id= "final_book_count_list"><input type = "text" id= "book_count_list" value = "{{ final_book_count_list }}"/></div>
                                    
                                </div>
                            </div>



                            <div class="col-xl-3 col-md-6">
                                <!-- small box -->
                                <div class="card bg-success text-white mb-4">
                                    <div class="container-fluid">
                                    <p></p>
                                    <h5>COunt
                                    
                                    <svg class="svg-inline--fa fa-book" style="color: whitesmoke; font-size: 350%; float: right;" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="book" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z"></path></svg>
                                    </h5>
                                    
                                
                                    <p>New Books added to Library</p>
                                    
                                    
                                    </div>
                                    <div class="card-footer d-flex align-items-center justify-content-between">
                                        <a class="small text-white stretched-link" href="#">View Details</a>
                                        <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                                    </div>
                                    </div>
                            </div>

                            <div class="col-xl-3 col-md-6">
                                <!-- small box -->
                                <div class="card bg-primary text-white mb-4">
                                    <div class="container-fluid">
                                    <p></p>
                                    <h5> Count
                                    
                                        <svg class="svg-inline--fa fa-rupee-sign" style="color: whitesmoke; font-size: 350%; float: right;" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="rupee-sign" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M.0003 64C.0003 46.33 14.33 32 32 32H112C191.5 32 256 96.47 256 176C256 234.8 220.8 285.3 170.3 307.7L221.7 436.1C228.3 452.5 220.3 471.1 203.9 477.7C187.5 484.3 168.9 476.3 162.3 459.9L106.3 320H64V448C64 465.7 49.67 480 32 480C14.33 480 0 465.7 0 448L.0003 64zM64 256H112C156.2 256 192 220.2 192 176C192 131.8 156.2 96 112 96H64V256zM320.8 282.2C321.3 283.3 322.2 284.8 325 287.1C332.2 292.8 343.7 297.1 362.9 303.8L364.2 304.3C380.3 309.1 402.9 317.9 419.1 332.4C429.5 340.5 437.9 351 443 364.7C448.1 378.4 449.1 393.2 446.8 408.7C442.7 436.8 426.4 457.1 403.1 469.6C381 480.7 354.9 482.1 329.9 477.6L329.7 477.5C320.4 475.8 309.2 471.8 300.5 468.6C294.4 466.3 287.9 463.7 282.7 461.6C280.2 460.6 278.1 459.8 276.4 459.1C259.9 452.7 251.8 434.2 258.2 417.7C264.6 401.2 283.1 393.1 299.6 399.5C302.2 400.5 304.8 401.5 307.5 402.6C312.3 404.5 317.4 406.5 322.9 408.6C331.7 411.9 338.2 413.1 341.6 414.6C357.2 417.5 368.3 415.5 374.5 412.4C379.4 409.9 382.5 406.3 383.5 399.3C384.5 392.4 383.7 388.8 383.1 387.1C382.4 385.4 381.3 383.5 378.6 381.2C371.7 375.4 360.4 370.8 341.6 364.2L338.6 363.1C323.1 357.7 301.6 350.2 285.3 337.2C275.8 329.7 266.1 319.7 261.5 306.3C256.1 292.8 254.9 278.2 257.2 263.1C265.6 205.1 324.2 185.1 374.1 194.2C380.1 195.5 401.4 200 409.5 202.6C426.4 207.8 435.8 225.7 430.6 242.6C425.3 259.5 407.4 268.9 390.5 263.7C385.8 262.2 368.2 258.2 362.6 257.2C347.1 254.5 336.8 256.8 329.1 260.4C323.7 263.7 321.1 267.1 320.5 272.4C319.6 278.4 320.4 281.2 320.8 282.2H320.8z"></path></svg></h5>
                                
                                    <p>Late submission penelty<p>
                                    
                                    </div>
                                    <p></p>
                                    </div>
                            </div>





                        </div>
                        <div class="row">
                            <!--<div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <i class="fas fa-chart-area me-1"></i>
                                        Area Chart Example
                                    </div>
                                    <div class="card-body"><canvas id="myAreaChart" width="100%" height="40"></canvas></div>
                                </div>
                            </div>-->
                            <div class="col-xl-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <i class="fas fa-chart-bar me-1"></i>
                                        Books issued in last 6 months:
                                    </div>
                                    <div class="card-body"><canvas id="myBarChart" width="100%" height="40"></canvas></div>
                                </div>
                            </div>
                        </div>
                        <div class="card mb-4">
                            <div class="card-header">
                                <i class="fas fa-table me-1"></i>
                                Books History:
                            </div>
                            <div class="card-body">
                                <table id="datatablesSimple">
                                    <thead>
                                        <tr>
                                            <th>Username</th>
                                            <th>Book name</th>
                                            <th>issued on</th>
                                            
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Username</th>
                                            <th>Book name</th>
                                            <th>Issued on</th>
                                            
                                        </tr>
                                    </tfoot>
                                    <tbody>
                                        <tr>
                                            {% for i in books_data %}
                                            <td> {{ i.stu_username }}</td>
                                            <td>{{ i.book1 }}</td>
                                            <td>{{ i.book1_allocatedon }}</td>
                                            
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </main>
                <footer class="py-4 bg-light mt-auto">
                    <div class="container-fluid px-4">
                        <div class="d-flex align-items-center justify-content-between small">
                            <div class="text-muted">LMS version 1.0 - 2022</div>
                            <div>
                                <a href="#">Developer Info</a>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="{% static 'js/scripts.js' %}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
        <script src="{% static 'assets/demo/chart-area-demo.js' %}"></script>
        <script src="{% static 'assets/demo/chart-bar-demo.js' %}"></script>
        <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
        <script src="{% static 'js/datatables-simple-demo.js' %}"></script>
        <script src="{% static 'js/student_validation.js' %}"></script>

        

        
    </body>
</html>
